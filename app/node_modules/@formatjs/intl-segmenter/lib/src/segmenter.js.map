{"version":3,"file":"segmenter.js","sourceRoot":"","sources":["../../src/segmenter.ts"],"names":[],"mappings":"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"}